
"""
This files contains the basic data for the Bayesian Data Analysis of Neutrinos Angra 2020 Dataset.


>>>>>>>>>   Data received from Willian on 03/12/2024: low multiplicity

Os registros estão com 168 horas, exceto registro (13) com 141 horas e registro (27) com 164 horas.

Os critérios são: 

a) Dentro da janela de tempo (in):
  3MeV < Eprompt < 7MeV
  1,60MeV < Edelay < 7,12MeV
  Multiplicidade >= 12 PMTs
  8us < t < 50us

b) Fora da janela de tempo (out):
  3MeV < Eprompt < 7MeV
  1,60MeV < Edelay < 7,12MeV
  Multiplicidade >= 12 PMTs
  t > 58us


Record (1): 2020-06-15 - 2020-06-22 >> in: 276544, out: 6679694
Record (2): 2020-06-22 - 2020-06-29 >> in: 286431, out: 6840010
Record (3): 2020-06-29 - 2020-07-06 >> in: 286725, out: 6886762
Record (4): 2020-07-06 - 2020-07-13 >> in: 290877, out: 6907609
Record (5): 2020-07-13 - 2020-07-20 >> in: 276101, out: 6637709
Record (6): 2020-07-20 - 2020-07-27 >> in: 280074, out: 6726166
Record (7): 2020-07-27 - 2020-08-03 >> in: 270029, out: 6593409
Record (8): 2020-08-03 - 2020-08-10 >> in: 270381, out: 6632109
Record (9): 2020-08-10 - 2020-08-17 >> in: 287149, out: 6939398
Record (10): 2020-08-17 - 2020-08-25 >> in: 278454, out: 6650790
Record (11): 2020-08-25 - 2020-09-01 >> in: 284609, out: 6631327
Record (12): 2020-09-01 - 2020-09-08 >> in: 289015, out: 6185268
Record (13): 2020-09-08 - 2020-09-13 >> in: 245405, out: 5194117
Record (14): 2020-09-24 - 2020-10-01 >> in: 288895, out: 6286889
Record (15): 2020-10-01 - 2020-10-08 >> in: 292401, out: 6429593
Record (16): 2020-10-08 - 2020-10-15 >> in: 289368, out: 6238768
Record (17): 2020-10-15 - 2020-10-22 >> in: 283346, out: 6026602
Record (18): 2020-10-22 - 2020-10-29 >> in: 294581, out: 6410690
Record (19): 2020-10-29 - 2020-11-05 >> in: 286564, out: 6120334
Record (20): 2020-11-05 - 2020-11-12 >> in: 282836, out: 6342559
Record (21): 2020-11-12 - 2020-11-19 >> in: 293429, out: 6438838
Record (22): 2020-11-19 - 2020-11-27 >> in: 284010, out: 6177379
Record (23): 2020-11-27 - 2020-12-04 >> in: 290241, out: 6363705
Record (24): 2020-12-04 - 2020-12-11 >> in: 279742, out: 6328491
Record (25): 2020-12-11 - 2020-12-18 >> in: 280897, out: 6757566
Record (26): 2020-12-18 - 2020-12-25 >> in: 282572, out: 6386115
Record (27): 2020-12-25 - 2020-12-31 >> in: 281662, out: 5879592"

>>>>>>>>>   Data received from Willian on 04/12/2024: high multiplicity
Os registros estão com 168 horas, exceto registro (13) com 141 horas e registro (27) com 164 horas.

Os critérios são: 

a) Dentro da janela de tempo (in):
  3MeV < Eprompt < 7MeV
  1,60MeV < Edelay < 7,12MeV
  Multiplicidade >= 25 PMTs
  8us < t < 50us

b) Fora da janela de tempo (out):
  3MeV < Eprompt < 7MeV
  1,60MeV < Edelay < 7,12MeV
  Multiplicidade >= 25 PMTs
  t > 58us 


Record (1): 2020-06-15 - 2020-06-22 >> in: 26809, out: 549910
Record (2): 2020-06-22 - 2020-06-29 >> in: 27949, out: 568588
Record (3): 2020-06-29 - 2020-07-06 >> in: 28152, out: 573868
Record (4): 2020-07-06 - 2020-07-13 >> in: 28997, out: 580017
Record (5): 2020-07-13 - 2020-07-20 >> in: 26949, out: 553343
Record (6): 2020-07-20 - 2020-07-27 >> in: 27182, out: 562043
Record (7): 2020-07-27 - 2020-08-03 >> in: 25972, out: 545090
Record (8): 2020-08-03 - 2020-08-10 >> in: 26069, out: 538028
Record (9): 2020-08-10 - 2020-08-17 >> in: 27902, out: 579843
Record (10): 2020-08-17 - 2020-08-25 >> in: 27627, out: 561472
Record (11): 2020-08-25 - 2020-09-01 >> in: 28983, out: 574574
Record (12): 2020-09-01 - 2020-09-08 >> in: 29991, out: 562103
Record (13): 2020-09-08 - 2020-09-13 >> in: 25917, out: 474689
Record (14): 2020-09-24 - 2020-10-01 >> in: 29840, out: 580017
Record (15): 2020-10-01 - 2020-10-08 >> in: 30258, out: 599563
Record (16): 2020-10-08 - 2020-10-15 >> in: 30565, out: 585181
Record (17): 2020-10-15 - 2020-10-22 >> in: 29943, out: 564698
Record (18): 2020-10-22 - 2020-10-29 >> in: 30222, out: 601081
Record (19): 2020-10-29 - 2020-11-05 >> in: 30086, out: 578919
Record (20): 2020-11-05 - 2020-11-12 >> in: 28849, out: 570525
Record (21): 2020-11-12 - 2020-11-19 >> in: 29613, out: 588373
Record (22): 2020-11-19 - 2020-11-27 >> in: 29259, out: 563179
Record (23): 2020-11-27 - 2020-12-04 >> in: 29832, out: 590819
Record (24): 2020-12-04 - 2020-12-11 >> in: 27642, out: 576113
Record (25): 2020-12-11 - 2020-12-18 >> in: 26714, out: 585913
Record (26): 2020-12-18 - 2020-12-25 >> in: 27815, out: 583169
Record (27): 2020-12-25 - 2020-12-31 >> in: 29278, out: 574821

"""
import arviz as az
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import xarray as xr
import seaborn as sns




datas_intervalos = [
    ('15/06/2020', '22/06/2020'),
    ('22/06/2020', '29/06/2020'),
    ('29/06/2020', '06/07/2020'),
    ('06/07/2020', '13/07/2020'),
    ('13/07/2020', '20/07/2020'),
    ('20/07/2020', '27/07/2020'),
    ('27/07/2020', '03/08/2020'),
    ('03/08/2020', '10/08/2020'),
    ('10/08/2020', '17/08/2020'),
    ('17/08/2020', '25/08/2020'),
    ('25/08/2020', '01/09/2020'),
    ('01/09/2020', '08/09/2020'),
    ('08/09/2020', '13/09/2020'),
    ('24/09/2020', '01/10/2020'),
    ('01/10/2020', '08/10/2020'),
    ('08/10/2020', '15/10/2020'),
    ('15/10/2020', '22/10/2020'),
    ('22/10/2020', '29/10/2020'),
    ('29/10/2020', '05/11/2020'),
    ('05/11/2020', '12/11/2020'),
    ('12/11/2020', '19/11/2020'),
    ('19/11/2020', '27/11/2020'),
    ('27/11/2020', '04/12/2020'),
    ('04/12/2020', '11/12/2020'),
    ('11/12/2020', '18/12/2020'),
    ('18/12/2020', '25/12/2020'),
    ('25/12/2020', '31/12/2020')
]

ibd_lowMult = np.array([
    276544, 286431, 286725, 290877,
    276101, 280074, 270029, 270381,
    287149, 278454, 284609, 289015,
    245405, 288895, 292401, 289368,
    283346, 294581, 286564, 282836,
    293429, 284010, 290241, 279742,
    280897, 282572, 281662 ])

acc_lowMult = np.array([
    6679694, 6840010, 6886762, 6907609,
    6637709, 6726166, 6593409, 6632109,
    6939398, 6650790, 6631327, 6185268,
    5194117, 6286889, 6429593, 6238768,
    6026602, 6410690, 6120334, 6342559,
    6438838, 6177379, 6363705, 6328491,
    6757566, 6386115, 5879592 ])

ibd_highMult = np.array([
    26809, 27949, 28152, 28997, 
    26949, 27182, 25972, 26069,
    27902, 27627, 28983, 29991,
    25917, 29840, 30258, 30565,
    29943, 30222, 30086, 28849,
    29613, 29259, 29832, 27642, 
    26714, 27815, 29278
])

acc_highMult = np.array([
549910, 568588, 573868, 580017,
553343, 562043, 545090, 538028,
579843, 561472, 574574, 562103,
474689, 580017, 599563, 585181,
564698, 601081, 578919, 570525,
588373, 563179, 590819, 576113,
585913, 583169, 574821
 ])


indices_off = np.array([1,2,3,4,5,6,7])
indices_on = np.array([10,11,13,14,15,16,17,18,19,20,21,22,23,24,25])

# Converter datas para objetos datetime
datas_inicio = pd.to_datetime([intervalo[0] for intervalo in datas_intervalos], dayfirst=True)
datas_fim = pd.to_datetime([intervalo[1] for intervalo in datas_intervalos], dayfirst=True)

# Calcular os valores médios dos intervalos de datas para plotar os pontos
datas_media_intervalo = (datas_inicio + (datas_fim - datas_inicio) / 2)
datas_analysis_off = [0] * indices_off.size
datas_analysis_on = [0] * indices_on.size
for i in range(indices_off.size):
    datas_analysis_off[i] = datas_media_intervalo[indices_off[i]]
for i in range(indices_on.size):
    datas_analysis_on[i] = datas_media_intervalo[indices_on[i]]


# Transformar em array de uma dimensão e depois em lista de strings
datas_flat = np.array(datas_intervalos).flatten().tolist()
datas_total = pd.to_datetime(datas_flat, dayfirst=True)

#Dados Selecionados a mão, retirando os vizinhos (para formar o eixo x)
seleção = ['15/06/2020', '22/06/2020', '29/06/2020', '06/07/2020', '13/07/2020', '20/07/2020', 
           '27/07/2020', '03/08/2020', '10/08/2020', '17/08/2020', '25/08/2020', '01/09/2020',
           '08/09/2020', '13/09/2020', '24/09/2020', '01/10/2020', '08/10/2020', '15/10/2020',
           '22/10/2020', '29/10/2020', '05/11/2020', '12/11/2020', '19/11/2020',
           '27/11/2020', '04/12/2020', '11/12/2020', '18/12/2020', '25/12/2020', '31/12/2020']

datas_selecionadas = pd.to_datetime(seleção, dayfirst=True)
